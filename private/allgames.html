<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="/img/logo.png">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>


    <link rel="stylesheet" href="/global.css">
    <link rel="stylesheet" href="/css/allgames.css">

    <script defer src="/models/Game.js"></script>
    <script defer src="/js/allgames.js"></script>
    <script defer src="/js/createPlaylist.js"></script>

    <title>All games</title>

    <script>
        let userID = "{{ userID }}"
        let userName = "{{ userName }}"
    </script>
</head>

<body>
    <header>
        <div class="dropdown">
            <button onclick="showCategoriesFilter()" class="dropDownButton">Categories Filter</button>
            <div class="dropdown-content" id="dropDownCategories">
                <div>
                    <input class="filter_category" type="checkbox" id="category1" name="categories" value="Culture" />
                    <label for="category1">📚 Culture</label>
                </div>
                <div>
                    <input class="filter_category" type="checkbox" id="category2" name="categories" value="Action" />
                    <label for="category2">🐱‍🏍 Action</label>
                </div>
                <div>
                    <input class="filter_category" type="checkbox" id="category3" name="categories" value="Thinking" />
                    <label for="category3">🧩 Thinking</label>
                </div>
                <div>
                    <input class="filter_category" type="checkbox" id="category4" name="categories" value="Sport" />
                    <label for="category4">🏀 Sport</label>
                </div>
                <div>
                    <input class="filter_category" type="checkbox" id="category5" name="categories" value="Truth" />
                    <label for="category5">🙊 Truth</label>
                </div>
                <div>
                    <input class="filter_category" type="checkbox" id="category6" name="categories" value="Game" />
                    <label for="category6">🎲 Game</label>
                </div>
                <div>
                    <input class="filter_category" type="checkbox" id="category7" name="categories"
                        value="Restrictive" />
                    <label for="category7">👿 Restrictive</label>
                </div>
            </div>
        </div>
        {{#userID}}
        {{^userID_query}}
        <button id="createPlaylistToggle">Create Playlist</button>
        {{/userID_query}}
        {{/userID}}
        <form id="search" hidden action="/games/findgamesbysearch" method="GET" onsubmit="return false;"></form>
        <div id="searchBar">
            <input form="search" name="search_query" type="text" autocomplete="off"
                placeholder="Search and press Enter">
            <button class="material-icons" id="searchButton">search</button>
        </div>

    </header>

    <main class="center-content">
        {{#userID_query}}
        <h1>Games of {{userName}}</h1>
        {{/userID_query}}
        {{^userID_query}}
        {{#userID}}
        <div hidden class="create-playlist">
            <span>Create a playlist</span>
            <input placeholder="Playlist name" id="playlistName">
            <table>
                <tr>
                    <th>Available</th>
                    <th></th>
                    <th>Selected</th>
                    <th></th>
                </tr>
                <tr>
                    <td>
                        <ul class="gameList" id="listAvailable"></ul>
                    </td>
                    <td>
                        <button id="addGamePlaylist">→</button><br>
                        <button id="removeGamePlaylist">←</button><br>
                        <button id="removeAllGamePlaylist">⇐</button>
                    </td>
                    <td>
                        <ul class="gameList" id="listSelected"></ul>
                    </td>
                    <td>
                        <button id="moveGameUpPlaylist">↑</button><br>
                        <button id="moveGameDownPlaylist">↓</button><br>
                    </td>
                </tr>
            </table>
            <button id="createPlaylist">Create</button>
        </div>
        {{/userID}}
        <h1>All Games</h1>
        {{/userID_query}}
        <div class="game-list">
            <!-- game-box create through javascript-->
        </div>
    </main>

    <canvas class="animate"></canvas>
    <script defer src="/js/particles.js"></script>
</body>

</html>